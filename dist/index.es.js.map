{"version":3,"file":"index.es.js","sources":["../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/tsv/index.js","../js/roles.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","(function(){\n\n    var br = \"\\n\"\n\n    function extend (o) {\n        Array.prototype.slice.call(arguments, 1).forEach(function(source){\n            if (!source) return\n            for (var keys = Object.keys(source), i = 0; i < keys.length; i++) {\n                var key = keys[i]\n                o[key] = source[key]\n            }\n        })\n        return o\n    }\n\n    function unquote (str) {\n        var match\n        return (match = str.match(/(['\"]?)(.*)\\1/)) && match[2] || str\n    }\n\n    function comments (line) {\n        return !/#@/.test(line[0])\n    }\n\n    function getValues (line, sep) {\n        return line.split(sep).map(function(value){\n            var value = unquote(value), num = +value\n            return num === parseInt(value, 10) ? num : value\n        })\n    }\n\n    function Parser (sep, options) {\n        var opt = extend({\n            header: true\n        }, options)\n\n        this.sep = sep\n        this.header = opt.header\n    }\n\n    Parser.prototype.stringify = function (data) {\n        var sep    = this.sep\n          , head   = !!this.header\n          , keys   = (typeof data[0] === 'object') && Object.keys(data[0])\n          , header = keys && keys.join(sep)\n          , output = head ? (header + br) : ''\n\n        if (!data || !keys) return ''\n            \n        return output + data.map(function(obj){\n            var item = keys ? {} : []\n            var values = keys.reduce(function(p, key){\n                p.push(obj[key])\n                return p\n            }, [])\n            return values.join(sep)\n        }).join(br)\n    }\n\n    Parser.prototype.parse = function (tsv) {\n        var sep   = this.sep\n          , lines = tsv.split(/[\\n\\r]/).filter(comments)\n          , head  = !!this.header\n          , keys  = head ? getValues(lines.shift(), sep) : {}\n\n        if (lines.length < 1) return []\n\n        return lines.reduce(function(output, line){\n            var item = head ? {} : []\n            output.push(getValues(line, sep).reduce(function(item, val, i){\n                item[keys[i] || i] = val\n                return item\n            }, item))\n            return output\n        }, [])\n    }\n\n    // Export TSV parser as main, but also expose `.TSV`, `.CSV` and `.Parser`.\n    var TSV = new Parser(\"\\t\")\n\n    extend(TSV, {\n        TSV    : TSV\n      , CSV    : new Parser(\",\")\n      , Parser : Parser\n    })\n\n    if (typeof module !== 'undefined' && module.exports){\n        module.exports = TSV\n    } else {\n        this.TSV = TSV\n    }\n\n}).call(this)","import * as fs from 'fs'\nimport TSV from 'tsv'\n\nconst rolesFile = `./policy/roles.tsv`\n\nconst Roles = class {\n\t#data\n\n\tconstructor(file = rolesFile) {\n\t\tconst contents = fs.readFileSync(file, 'utf8')\n\t\tconst lines = contents.split(\"\\n\")\n\t\tconst filteredLines = lines.filter((line) => !line.match(/^\\s*$/))\n\n\t\tthis.data = TSV.parse(filteredLines.join(\"\\n\"))\n\t}\n\n\tget length() { return this.data.length }\n}\n\nexport { Roles }\n"],"names":["this","rolesFile","Roles","file","contents","fs","lines","split","filteredLines","filter","line","match","data","TSV","parse","join","length"],"mappings":"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"}